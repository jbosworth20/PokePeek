<!DOCTYPE html>
<head>
    <!--NOTE:Implement it so API supplies all info based name based on the search and can update have app route based on the name supplied-->
    <Title> Poké Peek</Title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='site.css')}}" />
    <script src="{{ url_for('static', filename='code.js')}}"></script>
</head>
<body>
    <h1> Poké Peek </h1>
    <form action = "http://localhost:5000/search" method = "POST"> <!-- Make it so that this will take you to 404 if pokemon does not exist-->
        <p><input type = 'text' id = 'search_pokemon' name = 'search' placeholder = "Search for a Pokémon"> 
        <img src = 'https://cdn-icons-png.flaticon.com/128/151/151773.png' id = 'search_icon' onclick = "grab_pokemon_name()"></p>
    </form>
    <div class="d-flex flex-row">
        <div class="p-2">     
            <h3 class = "label" id = 'pokemon_name' name = 'pokemon_name'>{{data[0].title()}}</h3> <!-- Do this by form action and get with maybe a dict filled with ALL the info we need-->
            <img src = {{data[1]}} class = "box" id = sprite><!-- Replace with get_sprite()-->
            <div id = 'type_info'></div>
            <p class = "inline"><b>Types: </b>
            <p class = "inline pokemon_type {{data[2][0].capitalize()}}">{{data[2][0].title()}}</p>
            {% if data[2]|length > 1: %}
            <p class = "inline pokemon_type {{data[2][1].capitalize()}}">{{data[2][1].title()}}</p>
            {% endif %}
            <script>create_types()</script>
            <img src = 'https://cdn-icons-png.flaticon.com/128/471/471664.png' class = "inline more_info_icon" onclick = "unhide('type_description')"></p>
            <div id = 'type_description'>
                <p class = 'type_item'><b>x2 dmg from: </b>bug,fire,flying,ice, and poison moves</p>
                <p class = 'type_item'><b>x1/2 dmg from: </b>electric,grass, and water moves</p>
            </div>
        </div>
        <div class="p-2 stats_full">
            <h5 class = "label">Stats</h5>
            <div class="box" id = "stats">
                <p>&nbsp &nbsp &nbsp<b>HP:</b> {{data[3][0]}}</p>
                <p>&nbsp &nbsp &nbsp<b>Atk:</b> {{data[3][1]}}</p>
                <p>&nbsp &nbsp &nbsp<b>Def:</b> {{data[3][2]}}</p>
                <p>&nbsp &nbsp &nbsp<b>Sp Atk:</b> {{data[3][3]}}</p>
                <p>&nbsp &nbsp &nbsp<b>Sp Def:</b> {{data[3][4]}}</p>
                <p>&nbsp &nbsp &nbsp<b>Speed:</b> {{data[3][5]}}</p>
            </div>
            <h5 class = "label">Abilities</h5>
            {% set ability_names = data[4].keys() | list %}
            {% set ability_desc = data[4].values() | list %}
            <center><p>{{ability_names[0].title()}} <img src = 'https://cdn-icons-png.flaticon.com/128/471/471664.png' class = "more_info_icon" on_click = "unhide('ability_1_description')"></p></center>
            <center><p id = 'ability_1_description'>{{ability_desc[0]}}</p></center>
            {% if data[4]|length > 1: %}
            <center><p>{{ability_names[1].title()}}<img src = 'https://cdn-icons-png.flaticon.com/128/471/471664.png' class = "more_info_icon" on_click = "unhide('ability_2_description')"></p></center>
            <center><p id = 'ability_2_description'>{{ability_desc[1]}}</p></center>
            {% endif %}
            {% if data[4]|length > 2: %}
            <center><p>{{ability_names[2].title()}}<img src = 'https://cdn-icons-png.flaticon.com/128/471/471664.png' class = "more_info_icon" on_click = "unhide('ability_3_description')"></p></center>
            <center><p id = 'ability_3_description'>{{ability_desc[2]}}</p></center>
            {% endif %}
        </div> 
        <div id = "divide"></div>
        <div class = "p-2 moves_full">
            <h5 class = "label">Moves</h5> <!-- Use ID to pull info from tuple -->
            <div class = 'box' id ="scrollbox">
                {% for move in data[5].keys() %}
                    <p id = {{move.title()}} onclick = "unhide('{{move.title()}}_info')">{{move.title()}}</p>
                {% endfor %} 
            </div>
        </div>
        {% for move in data[5]%}
            <div class= "p-2" id = "{{move.title()}}_info" style = "visibility:hidden; width:500px"> <!-- Can you track what index the name is for tuple?-->
                <center><h5 class = "label">{{move.title()}}</h5></center>
                <center><p class = "box" id = 'move_description'>{{data[5][move][0]}}</p></center>
                <center><p><b>Accuracy:</b>{{data[5][move][1]}}
                <b>Power:</b> {{data[5][move][2]}}
                <b>PP:</b> {{data[5][move][3]}}</p></center>
            <center><p class = "inline"><b>Type: </b></p><p class = "inline pokemon_type {{data[5][move][4].title()}}">{{data[5][move][4].title()}}</p>
                {% endfor %}
        </div>

    </div>
    <p class = 'disclamer'>FAIR-USE COPYRIGHT DISCLAIMER Copyright Disclaimer under section 107 of the Copyright Act of 1976, allowance is made for “fair use” for purposes such as criticism, comment, news reporting, teaching, scholarship, education and research.
        Fair use is a use permitted by copyright statute that might otherwise be infringing.</p>
        <p><a href="https://www.flaticon.com/free-icons/search" title="search icons">Search icons created by Chanut - Flaticon</a></p>
        <p><a href="https://www.flaticon.com/free-icons/question" title="question icons">Question icons created by Freepik - Flaticon</a></p>
    </body>
</DOCTYPE>